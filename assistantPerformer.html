<!DOCTYPE html />
<html
lang="en"
xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Assistant Performer</title>
    <link
        href="assistantPerformerStyleSheet.css"
        media="all"
        rel="stylesheet"
        type="text/css" />

    <!-- Javascript files are included at the end of the body element -->

</head>
<body style="text-align: center; font-family: Lucida Sans Unicode, Verdana, Arial, Geneva, Sans-Serif; padding: 0; margin: 0; overflow:hidden">
	<div id="titleOptionsDiv" style="text-align: center; visibility: visible; margin:0;">
		<p class="header1">
			Assistant Performer
		</p>
		<div class="helpText">
			<a id="assistantPerformerOnGitHubLink"
			   style="font-size: 12px;"
			   target="_blank"
			   href="https://github.com/notator/assistant-performer">
				open source on GitHub
			</a><br />
			<a id="aboutAssistantPerformerLink"
			   style="font-size: 12px;"
			   target="_blank"
			   href="http://james-ingram-act-two.de/open-source/aboutAssistantPerformer.html">
				about the Assistant Performer
			</a><br />
			<div class="note">
				This experimental Web MIDI application is normally tested in the latest versions of Firefox and Chrome on Windows 10.<br />
				Firefox requires the <a target="_blank" href="http://jazz-soft.net">Jazz</a> plug-in to be installed. Chrome implements Web MIDI natively.<br />
				To find out which other browsers could be used, go to <a target="_blank" href="http://caniuse.com/#feat=midi">check Web <em>MIDI</em> API</a>. A limited functionality is available
				if the browser only implements Web <em>Audio</em> (go to <a target="_blank" href="http://caniuse.com/#feat=audio-api">check Web <em>Audio</em> API</a>).<br />
				<span class="blueHelpText">
					Note that it is not possible to display or play scores in this application unless a MIDI output device has been selected.<br />
					Scores and recordings can however be found via the link that appears when a score is selected.<br />
					Currently, the only scores that can be played on the <a target="_blank" href="https://github.com/notator/residentSf2Synth">Resident Sf2 Synth</a> are the Pianola Music (1967) and Study 1 (2005).
					All the other scores require hardware or software output devices that are (or depend on) plugins.<br />
					On Windows, the free <a id="VirtualMIDISynthLink" target="_blank" href="http://coolsoft.altervista.org/en/virtualmidisynth">Virtual MIDI Synth</a> can be installed and used in both Firefox and Chrome.<br />
					The <em>Microsoft GS Wavetable Synth</em> (part of the Windows operating system) is available in Firefox if Jazz is installed.<br />
				</span>
			</div>
		</div>
		<div id="options" class="options">
			<div style="font-size: 14px;">
				options
			</div>
			<!--<div class="helpText">
				MIDI devices will only be recognized if they are connected and switched on before loading this page.
			</div>-->
			<div id="deviceAndScoreSelectors" style="margin-top: 6px">
				<select id="inputDeviceSelect"
						class="deviceSelector" onchange="_AP.controls.doControl('inputDeviceSelect')"></select>
				<select id="scoreSelect"
						class="deviceSelector" style="width: 240px" onchange="_AP.controls.doControl('scoreSelect')">
					<option>choose a score</option>
					<option>Pianola Music (1967)</option>
					<option>Study 1 (2005)</option>
					<option>Study 2c3.1 (2010-2011)</option>
					<option>Study 3 sketch 1 (2012-2014)</option>
					<option>Study 3 sketch 1 (pages)</option>
					<option>Song Six (2013-2014) -- annotated</option>
					<option>Study 3 sketch 2.1 - with input (2015)</option>
					<option>Study 3 sketch 2.2 - less visible (scroll)</option>
					<!--<option>Tombeau 1 (scroll)</option>-->
				</select>
				<select id="outputDeviceSelect"
						class="deviceSelector" onchange="_AP.controls.doControl('outputDeviceSelect')"></select>
			</div>
			<div id="aboutLinkDiv" class="helpText" style="display:none; padding-top:3px"></div>
			<div id="waitingForSoundFontDiv" class="helpText" style="display:none; padding-top:3px">Please wait, the soundFont is still loading...</div>
			<div id="needsMIDIAccessDiv" class="helpText" style="display:none; padding-top:3px">This score can only be played on a browser that supports Web MIDI.</div>			
			<div id="globalSpeedDiv" class="globalSpeedPanel" style="display:none;">
				<label id="globalSpeedInputNumberLabel1" for="globalSpeedInput">
					speed:
				</label>
				<input type="number" id="globalSpeedInput" value="100"
					   onblur="_AP.controls.doControl('globalSpeedInput')"
					   style="margin: 0 0 3px 0; width: 65px; vertical-align: middle;" />
				<label id="globalSpeedInputNumberLabel2" for="globalSpeedInput">
					% [Greater than 0%] Higher values lead to higher speed.
				</label>
			</div>
			<input id="startRuntimeButton" type="button" class="startRuntimeButton" value="Start"
				   onclick="_AP.controls.beginRuntime()"
				   style="display:none;" />
		</div>
	</div>
	<div id="svgRuntimeControls" class="runtimeDiv" style="top: 2px; width: 1028px; height: 41px;">
		<svg xmlns="http://www.w3.org/2000/svg" width="170" height="36" style="position: absolute; left: 428px; top: 0;">
			<g id="performanceButtons" transform="translate(0.5, 0.5)">
				<rect id="performanceButtonsFrame" x="0" y="0" width="169" height="30" stroke="#008000" stroke-width="1" fill="#F5FFF5" />
				<rect id="performanceButtonsDisabled" x="0" y="0" width="169" height="30" stroke="white" stroke-width="1" fill="white" opacity="0" />

				<g id="goControl" transform="translate(7,5)"
				   onmouseover="_AP.controls.showOverRect('overGoRect', 'goDisabled')"
				   onmouseout="_AP.controls.hideOverRect('overGoRect')"
				   onmousedown="_AP.controls.doControl('goControl')">
					<rect id="overGoRect" x="-1.5" y="-1.5" width="23" height="23" stroke="#00CE00" stroke-width="2" opacity="0" />
					<g id="goUnselected" opacity="1">
						<rect id="Rect22" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect23" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />

						<circle id="goButton" cx="10" cy="10" r="5" fill="#00CE00" opacity="1" />
					</g>
					<g id="pauseUnselected" opacity="0">
						<rect id="Rect24" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect25" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />

						<line x1="7" y1="5" x2="7" y2="15" stroke="#ED1C24" stroke-width="3" />
						<line x1="13" y1="5" x2="13" y2="15" stroke="#ED1C24" stroke-width="3" />
					</g>
					<g id="pauseSelected" opacity="0">
						<rect id="Rect26" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="#BBBBBB" />
						<rect id="Rect27" x="2" y="2" width="16.5" height="16.5" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="white" />

						<line x1="8" y1="6" x2="8" y2="16" stroke="#ED1C24" stroke-width="3" />
						<line x1="14" y1="6" x2="14" y2="16" stroke="#ED1C24" stroke-width="3" />
					</g>
					<rect id="goDisabled" x="0" y="0" width="20" height="20" stroke="white" stroke-width="1" fill="white" opacity="0" />
				</g>

				<g id="stopControl" transform="translate(34,5)"
				   onmouseover="_AP.controls.showOverRect('overStopRect', 'stopControlDisabled')"
				   onmouseout="_AP.controls.hideOverRect('overStopRect')"
				   onmousedown="_AP.controls.doControl('stopControl')">
					<rect id="overStopRect" x="-1.5" y="-1.5" width="23" height="23" stroke="#00CE00" stroke-width="2" opacity="0" />
					<g id="stopControlUnselected" opacity="1">
						<rect id="Rect16" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect17" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />
						<rect id="Rect20" x="5" y="5" width="10" height="10" fill="#ED1C24" />
					</g>
					<g id="stopControlSelected" opacity="0">
						<rect id="Rect18" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="#BBBBBB" />
						<rect id="Rect19" x="2" y="2" width="16.5" height="16.5" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="white" />
						<rect id="Rect21" x="6" y="6" width="10" height="10" fill="#ED1C24" />
					</g>
					<rect id="stopControlDisabled" x="0" y="0" width="20" height="20" stroke="white" stroke-width="1" fill="white" opacity="0" />
				</g>

				<g id="setStartControl" transform="translate(61,5)"
				   onmouseover="_AP.controls.showOverRect('overSetStartRect', 'setStartControlDisabled')"
				   onmouseout="_AP.controls.hideOverRect('overSetStartRect')"
				   onmousedown="_AP.controls.doControl('setStartControl')">
					<rect id="overSetStartRect" x="-1.5" y="-1.5" width="23" height="23" stroke="#00CE00" stroke-width="2" opacity="0" />
					<g id="setStartControlUnselected" opacity="1">
						<rect id="setStartRect" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect2" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />
						<line id="setStartButton" x1="10" y1="4" x2="10" y2="16" stroke="#00CE00" stroke-width="3" />
					</g>
					<g id="setStartControlSelected" opacity="0">
						<rect id="Rect3" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="#BBBBBB" />
						<rect id="Rect4" x="2" y="2" width="16.5" height="16.5" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="white" />
						<line id="Line1" x1="11" y1="5" x2="11" y2="17" stroke="#00CE00" stroke-width="3" />
					</g>
					<rect id="setStartControlDisabled" x="0" y="0" width="20" height="20" stroke="white" stroke-width="1" fill="white" opacity="0" />

				</g>

				<g id="setEndControl" transform="translate(88,5)"
				   onmouseover="_AP.controls.showOverRect('overSetEndRect', 'setEndControlDisabled')"
				   onmouseout="_AP.controls.hideOverRect('overSetEndRect')"
				   onmousedown="_AP.controls.doControl('setEndControl')">
					<rect id="overSetEndRect" x="-1.5" y="-1.5" width="23" height="23" stroke="#00CE00" stroke-width="2" opacity="0" />
					<g id="setEndControlUnselected" opacity="1">
						<rect id="Rect1" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect5" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />
						<line id="Line2" x1="10" y1="4" x2="10" y2="16" stroke="#ED1C24" stroke-width="3" />
					</g>
					<g id="setEndControlSelected" opacity="0">
						<rect id="Rect6" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="#BBBBBB" />
						<rect id="Rect7" x="2" y="2" width="16.5" height="16.5" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="white" />
						<line id="Line3" x1="11" y1="5" x2="11" y2="17" stroke="#ED1C24" stroke-width="3" />
					</g>
					<rect id="setEndControlDisabled" x="0" y="0" width="20" height="20" stroke="white" stroke-width="1" fill="white" opacity="0" />

				</g>

				<g id="sendStartToBeginningControl" transform="translate(115,5)"
				   onmouseover="_AP.controls.showOverRect('overSendStartToBeginningRect', 'sendStartToBeginningControlDisabled')"
				   onmouseout="_AP.controls.hideOverRect('overSendStartToBeginningRect')"
				   onmousedown="_AP.controls.doControl('sendStartToBeginningControl')">
					<rect id="overSendStartToBeginningRect" x="-1.5" y="-1.5" width="23" height="23" stroke="#00CE00" stroke-width="2" opacity="0" />
					<g id="sendStartToBeginningControlUnselected" opacity="1">
						<rect id="Rect10" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect11" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />
						<g id="G2">
							<line x1="3.8" y1="10" x2="14" y2="10" stroke="black" stroke-width="1.2" stroke-linecap="round" />
							<line x1="4.2" y1="10" x2="7" y2="7" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="4.2" y1="10" x2="7" y2="13" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="14" y1="4" x2="14" y2="16" stroke="#00CE00" stroke-width="3" />
						</g>
					</g>
					<g id="sendStartToBeginningControlSelected" opacity="0">
						<rect id="Rect8" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="#BBBBBB" />
						<rect id="Rect9" x="2" y="2" width="16.5" height="16.5" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="white" />
						<g id="sendStartToBeginningButton">
							<line x1="4.8" y1="11" x2="15" y2="11" stroke="black" stroke-width="1.2" stroke-linecap="round" />
							<line x1="5.2" y1="11" x2="8" y2="8" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="5.2" y1="11" x2="8" y2="14" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="15" y1="5" x2="15" y2="17" stroke="#00CE00" stroke-width="3" />
						</g>
					</g>
					<rect id="sendStartToBeginningControlDisabled" x="0" y="0" width="20" height="20" stroke="white" stroke-width="1" fill="white" opacity="0" />


				</g>

				<g id="sendStopToEndControl" transform="translate(142,5)"
				   onmouseover="_AP.controls.showOverRect('overSendStopToEndRect', 'sendStopToEndControlDisabled')"
				   onmouseout="_AP.controls.hideOverRect('overSendStopToEndRect')"
				   onmousedown="_AP.controls.doControl('sendStopToEndControl')">
					<rect id="overSendStopToEndRect" x="-1.5" y="-1.5" width="23" height="23" stroke="#00CE00" stroke-width="2" opacity="0" />
					<g id="sendStopToEndControlUnselected" opacity="1">
						<rect id="Rect12" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="white" />
						<rect id="Rect13" x="1.5" y="1.5" width="17" height="17" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="#A5A5A5" />
						<g id="sendStopToEndButton">
							<line x1="6" y1="10" x2="16.2" y2="10" stroke="black" stroke-width="1.2" stroke-linecap="round" />
							<line x1="15.8" y1="10" x2="13" y2="7" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="15.8" y1="10" x2="13" y2="13" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="6" y1="4" x2="6" y2="16" stroke="#ED1C24" stroke-width="3" />
						</g>
					</g>
					<g id="sendStopToEndControlSelected" opacity="0">
						<rect id="Rect14" x="0" y="0" width="20" height="20" stroke="black" stroke-width="1" fill="#BBBBBB" />
						<rect id="Rect15" x="2" y="2" width="16.5" height="16.5" stroke="none" stroke-width="1" fill="#EEEEEE" />
						<path d="M 2 19 L 19 19, 19 2" fill="none" stroke-width="1" stroke="white" />
						<g id="G1">
							<line x1="7" y1="11" x2="17.2" y2="11" stroke="black" stroke-width="1.2" stroke-linecap="round" />
							<line x1="16.8" y1="11" x2="14" y2="8" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="16.8" y1="11" x2="14" y2="14" stroke="black" stroke-width="1.1" stroke-linecap="round" />
							<line x1="7" y1="5" x2="7" y2="17" stroke="#ED1C24" stroke-width="3" />
						</g>
					</g>
					<rect id="sendStopToEndControlDisabled" x="0" y="0" width="20" height="20" stroke="white" stroke-width="1" fill="white" opacity="0" />

				</g>

			</g>
		</svg>
		<div id="downloadLinkDiv"
			 style="position: absolute; top: 0; left: 681px;">
		</div>
		<svg xmlns="http://www.w3.org/2000/svg" width="104" height="36" style="position: absolute; left: 925px; top: 0;">
			<g id="gotoOptions" transform="translate(0.5, 0.5)"
			   onmouseover="_AP.controls.showOverRect('overGotoOptionsFrame', 'gotoOptionsDisabled')"
			   onmouseout="_AP.controls.hideOverRect('overGotoOptionsFrame')"
			   onclick="_AP.controls.doControl('gotoOptions')">
				<rect id="gotoOptionsFrame" x="0" y="0" width="103" height="30" stroke="#008000" stroke-width="1" fill="#F5FFF5" />
				<rect id="overGotoOptionsFrame" x="1.5" y="1.5" width="100" height="27" stroke="#00CE00" stroke-width="2" fill="#F5FFF5" opacity="0" />
				<text x="16" y="19" font-size="13" font-family="Lucida Sans Unicode, Verdana, Arial, Geneva, Sans-Serif" fill="black">
					set options
				</text>
				<rect id="gotoOptionsDisabled" x="0" y="0" width="103" height="30" stroke="white" stroke-width="1" fill="white" opacity="0.7" />
			</g>
		</svg>
	</div>
	<div id="svgPagesFrame" class="runtimeDiv"
		 style="top: 36px; width: 1028px; height: 600px; border: 1px solid #008000; overflow: auto; ">
		<!--
				<embed
					src="http://james-ingram-act-two.de/open-source/assistantPerformer/scores/Study%202c3.1/Study 2c3.1 page 1.svg"
					content-type="image/svg+xml"
					class="svgPage"
					width="1010"
					height="1237" />
				<br />
				<embed
					src="http://james-ingram-act-two.de/open-source/assistantPerformer/scores/Study%202c3.1/Study 2c3.1 page 2.svg"
					content-type="image/svg+xml"
					class="svgPage"
					width="1010"
					height="1237" />
				<br />
				<embed
					src="http://james-ingram-act-two.de/open-source/assistantPerformer/scores/Study%202c3.1/Study 2c3.1 page 3.svg"
					content-type="image/svg+xml"
					class="svgPage"
					width="1010"
					height="1237" />
				<br />
				-->
	</div>

	<script src="../WebMIDI/namespace.js" type="text/javascript"></script>
	<script src="../WebMIDI/constants.js" type="text/javascript"></script>
	<script src="../WebMIDI/utilities.js" type="text/javascript"></script>

	<script src="../residentSf2Synth/riffParser.js" type="text/javascript"></script>
	<script src="../residentSf2Synth/soundFontParser.js" type="text/javascript"></script>
	<script src="../residentSf2Synth/soundFont.js" type="text/javascript"></script>
	<script src="../residentSf2Synth/soundFontSynthNote.js" type="text/javascript"></script>
	<script src="../residentSf2Synth/residentSf2Synth.js" type="text/javascript"></script>

	<script src="shim/WebMIDIAPI.min.js" type="text/javascript"></script>

	<script src="ap/Namespace.js" type="text/javascript"></script>

	<script src="ap/Constants.js" type="text/javascript"></script>
	<script src="ap/Utilities.js" type="text/javascript"></script>
	<script src="ap/Message.js" type="text/javascript"></script>
	<script src="ap/Moment.js" type="text/javascript"></script>
	<script src="ap/MidiChord.js" type="text/javascript"></script>
	<script src="ap/MidiRest.js" type="text/javascript"></script>
	<script src="ap/Track.js" type="text/javascript"></script>
	<script src="ap/Sequence.js" type="text/javascript"></script>
	<script src="ap/Seq.js" type="text/javascript"></script>
	<script src="ap/TrackRecording.js" type="text/javascript"></script>
	<script src="ap/SequenceRecording.js" type="text/javascript"></script>
	<script src="ap/StandardMidiFile.js" type="text/javascript"></script>
	<script src="ap/Markers.js" type="text/javascript"></script>
	<script src="ap/TrkOptions.js" type="text/javascript"></script>
	<script src="ap/InputChordDef.js" type="text/javascript"></script>
	<script src="ap/InputChord.js" type="text/javascript"></script>
	<script src="ap/InputRest.js" type="text/javascript"></script>
	<script src="ap/MidiChordDef.js" type="text/javascript"></script>
	<script src="ap/Score.js" type="text/javascript"></script>
	<script src="ap/TracksControl.js" type="text/javascript"></script>
	<script src="ap/Controls.js" type="text/javascript"></script>

	<script src="ap/Keyboard1.js" type="text/javascript"></script>

	<script src="ap/Main.js" type="text/javascript"></script>
</body>
</html>
